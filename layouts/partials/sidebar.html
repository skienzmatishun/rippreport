{{ $sidebar := .Site.Params.sidebar.default }}

{{ if eq .Kind "home" }}
    {{ $sidebar = default .Site.Params.sidebar.home .Params.sidebar }}
{{ else if eq .Kind "page" }}
    {{ $sidebar = default .Site.Params.sidebar.single .Params.sidebar }}
{{ else }}
    {{ $sidebar = default .Site.Params.sidebar.list .Params.sidebar }}
{{ end }}

{{ if $sidebar }}
<aside class="sidebar{{ if eq $sidebar "left" }} sidebar--left{{ end }}">
    <!-- Your existing Mailchimp form and other sidebar content -->

    {{- $rssURL := "https://www.lagniappemobile.com/search/?f=rss&t=article&c=opinion/columnists/dtt" -}}
    {{- $numArticles := 8 -}}

    {{- $content, $err := getGeneric $rssURL -}}
    {{- if not $err -}}
        {{- with .Site.Process "shortcode" $content -}}
            <div class="torpedo-widget">
                <h2>Damn the Torpedoes - Lagniappe</h2>
                <ul>
                    {{- range first $numArticles .Data.Page.RegularPages -}}
                        <li>
                            <a href="{{ .Permalink }}">{{ .Title }}</a>
                            <p>{{ .Description }}</p>
                            <p>Published on {{ .Date.Format "Mon, 02 Jan 2006 15:04:05 -0700" }}</p>
                        </li>
                    {{- end -}}
                </ul>
            </div>
        {{- end -}}
    {{- end -}}

    <!-- The rest of your sidebar content -->
</aside>
{{ end }}
